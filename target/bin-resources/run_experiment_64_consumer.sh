#!/bin/bash

export CLASSPATH=lib/bioqa-1.0.0-SNAPSHOT.jar:lib/indri-provider-1.1.1.jar:lib/indri_64-5.2.jar:lib/jdbc-providers-2.3.2.jar:lib/spring-jdbc-3.0.5.RELEASE.jar:lib/spring-beans-3.0.5.RELEASE.jar:lib/spring-core-3.0.5.RELEASE.jar:lib/spring-asm-3.0.5.RELEASE.jar:lib/commons-logging-1.1.1.jar:lib/spring-tx-3.0.5.RELEASE.jar:lib/aopalliance-1.0.jar:lib/spring-aop-3.0.5.RELEASE.jar:lib/spring-context-3.0.5.RELEASE.jar:lib/spring-expression-3.0.5.RELEASE.jar:lib/c3p0-0.9.1.2.jar:lib/sqlite-jdbc-3.7.2.jar:lib/cse-framework-2.3.1.jar:lib/activemq-all-5.4.3.jar:lib/uima-ecd-2.3.1.jar:lib/uimaj-core-2.4.0.jar:lib/uimafit-1.4.0.jar:lib/commons-lang-2.4.jar:lib/commons-io-1.4.jar:lib/uimaj-tools-2.4.0.jar:lib/uimaj-cpe-2.4.0.jar:lib/uimaj-adapter-vinci-2.4.0.jar:lib/jVinci-2.4.0.jar:lib/uimaj-document-annotation-2.4.0.jar:lib/guava-14.0.1.jar:lib/anyobject-1.0.2.jar:lib/snakeyaml-1.10.jar:lib/jackson-mapper-asl-1.8.4.jar:lib/jackson-core-asl-1.8.5.jar:lib/streaming-1.0.0.jar:lib/reflections-0.9.8.jar:lib/javassist-3.12.1.GA.jar:lib/dom4j-1.6.1.jar:lib/xml-apis-1.0.b2.jar:lib/mysql-connector-java-5.1.21.jar:lib/lingpipe-4.1.0.jar:lib/entrezgene-wrapper-1.1.2.jar:lib/resource-wrapper-2.0.1.jar:lib/species-mapper-1.1.1.jar:lib/mesh-wrapper-1.1.2.jar:lib/umls-retriever-1.0.3.jar:lib/blueprints-2.0.0.pom:lib/blueprints-neo4j-graph-2.0.0.jar:lib/blueprints-core-2.0.0.jar:lib/jettison-1.3.jar:lib/stax-api-1.0.1.jar:lib/jackson-jaxrs-1.8.5.jar:lib/colt-1.2.0.jar:lib/concurrent-1.3.4.jar:lib/neo4j-1.8.M02.pom:lib/neo4j-kernel-1.8.M02.jar:lib/geronimo-jta_1.1_spec-1.1.1.jar:lib/neo4j-lucene-index-1.8.M02.jar:lib/lucene-core-3.5.0.jar:lib/neo4j-graph-algo-1.8.M02.jar:lib/neo4j-udc-1.8.M02.jar:lib/neo4j-graph-matching-1.8.M02.jar:lib/neo4j-cypher-1.8.M02.jar:lib/scala-library-2.9.1-1.jar:lib/neo4j-jmx-1.8.M02.jar:lib/neo4j-ha-1.8.M02.jar:lib/neo4j-backup-1.8.M02.jar:lib/neo4j-com-1.8.M02.jar:lib/org.apache.servicemix.bundles.netty-3.2.5.Final_1.jar:lib/zookeeper-3.3.2.jar:lib/log4j-1.2.16.jar:lib/neo4j-management-1.8.M02.jar:lib/blueprints-rexster-graph-2.0.0.jar:lib/commons-codec-1.4.jar:lib/graph-core-1.0.0.jar:lib/bio-model-1.0.4.jar:lib/baseqa-1.10.3.jar:lib/umls-wrapper-1.1.2.jar:lib/libsvm-3.1.jar:lib/similarity-library-0.0.1.jar:lib/lingpipe-models-0.0.1.jar

mkdir -p log

java -Xmx4000m -verbose:gc -Djava.library.path=lib/ edu.cmu.lti.oaqa.cse.driver.AsyncDriver $1 CONSUMER $2 >> log/${HOSTNAME}-remoteqa.log 2>&1
